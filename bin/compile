#!/usr/bin/env bash
# bin/compile <build-dir> <cache-dir> <env-dir>

BUILD_DIR=${1:-}
CACHE_DIR=${2:-}
ENV_DIR=${3:-}

if [ -f $ENV_DIR/REQUIREMENTS_FILE ]; then
	REQUIREMENTS_FILE=`cat $ENV_DIR/REQUIREMENTS_FILE`
	echo "       Requirements at $REQUIREMENTS_FILE"
	if [ -f $BUILD_DIR/$REQUIREMENTS_FILE ]; then
		echo "-----> Moving Requirements.txt"
		echo "       Requirements at $REQUIREMENTS_FILE"
		cp REQUIREMENTS_FILE $BUILD_DIR/requirements.txt 
		echo "       requirements moved to $BUILD_DIR/requirements.txt"
		exit 0
	fi
fi

echo "REQUIREMENTS_FILE is undefined"
exit 1


